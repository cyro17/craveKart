{"ast":null,"code":"import { api, API_URL } from \"../../component/config/api\";\nimport axios from \"axios\";\nexport function registerUser({\n  userdata,\n  navigate\n}) {\n  return async function (dispatch, userdata) {\n    console.log(\"formdata : \", userdata.getState());\n    dispatch({\n      type: \"auth/registerRequest\"\n    });\n    try {\n      const {\n        data\n      } = await axios.post(`${API_URL}/auth/signup`, userdata);\n      console.log(\"response data :\", data);\n      if (data.jwt) localStorage.setItem(\"jwt\", data.jwt);\n      // if (data.role === \"ROLE_RESTAURANT_OWNER\") {\n      //     navigate(\"/admin/restaurant\");\n      else navigate(\"/login\");\n    } catch (err) {\n      console.log(err);\n      dispatch({\n        type: \"auth/registerFail\",\n        payload: err\n      });\n    }\n  };\n}\nexport function healthCheck() {\n  return async function (dispatch) {\n    dispatch({\n      type: \"auth/registerRequest\"\n    });\n    try {\n      const {\n        data\n      } = await axios.get(`${API_URL}/auth/healthCheck`);\n      console.log(\"get data : \", data);\n      dispatch({\n        type: \"auth/healthCheck\",\n        payload: data\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n}\nexport function getUser(token) {\n  return async function (dispatch) {\n    dispatch({\n      type: \"auth/getUserRequest\"\n    });\n    try {\n      const response = await api.get(\"/api/users/profile\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const user = response.data;\n      console.log(\"user\", user);\n      dispatch({\n        type: \"auth/getUserSuccess\",\n        payload: user\n      });\n      console.log(\"req user \", user);\n    } catch (error) {\n      const errorMessage = error.message;\n      dispatch({\n        type: \"auth/getUserFailure\",\n        payload: errorMessage\n      });\n    }\n  };\n}","map":{"version":3,"names":["api","API_URL","axios","registerUser","userdata","navigate","dispatch","console","log","getState","type","data","post","jwt","localStorage","setItem","err","payload","healthCheck","get","error","getUser","token","response","headers","Authorization","user","errorMessage","message"],"sources":["/Users/cyro_dev/Documents/codes/project/craveKart/frontend/src/State/Authentication/Action.js"],"sourcesContent":["\nimport { api, API_URL } from \"../../component/config/api\";\nimport axios from \"axios\";\n\n\nexport function registerUser({ userdata, navigate }) {\n    return async function (dispatch, userdata) {\n        console.log(\"formdata : \", userdata.getState());\n        dispatch({ type: \"auth/registerRequest\" });\n        try {\n            const { data } = await axios.post(`${API_URL}/auth/signup`, userdata);\n            console.log(\"response data :\", data);\n\n            if (data.jwt) localStorage.setItem(\"jwt\", data.jwt);\n            // if (data.role === \"ROLE_RESTAURANT_OWNER\") {\n            //     navigate(\"/admin/restaurant\");\n            else navigate(\"/login\");\n        } catch (err) {\n            console.log(err);\n            dispatch({ type: \"auth/registerFail\", payload: err });\n        }\n    }\n}\n\nexport function healthCheck() {\n    return async function (dispatch) {\n        dispatch({ type: \"auth/registerRequest\" })\n        try {\n            const { data } = await axios.get(`${API_URL}/auth/healthCheck`);\n            console.log(\"get data : \", data)\n            dispatch({ type: \"auth/healthCheck\", payload: data });\n\n        } catch (error) {\n            console.log(error)\n        }\n    }\n}\n\nexport function getUser(token) {\n    return async function (dispatch) {\n        dispatch({ type: \"auth/getUserRequest\" });\n        try {\n            const response = await api.get(\"/api/users/profile\", {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                }\n            });\n            const user = response.data;\n            console.log(\"user\", user);\n            dispatch({ type: \"auth/getUserSuccess\", payload: user })\n            console.log(\"req user \", user);\n        } catch (error) {\n            const errorMessage = error.message;\n            dispatch({ type: \"auth/getUserFailure\", payload: errorMessage });\n        }\n    }\n}"],"mappings":"AACA,SAASA,GAAG,EAAEC,OAAO,QAAQ,4BAA4B;AACzD,OAAOC,KAAK,MAAM,OAAO;AAGzB,OAAO,SAASC,YAAYA,CAAC;EAAEC,QAAQ;EAAEC;AAAS,CAAC,EAAE;EACjD,OAAO,gBAAgBC,QAAQ,EAAEF,QAAQ,EAAE;IACvCG,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEJ,QAAQ,CAACK,QAAQ,CAAC,CAAC,CAAC;IAC/CH,QAAQ,CAAC;MAAEI,IAAI,EAAE;IAAuB,CAAC,CAAC;IAC1C,IAAI;MACA,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMT,KAAK,CAACU,IAAI,CAAC,GAAGX,OAAO,cAAc,EAAEG,QAAQ,CAAC;MACrEG,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEG,IAAI,CAAC;MAEpC,IAAIA,IAAI,CAACE,GAAG,EAAEC,YAAY,CAACC,OAAO,CAAC,KAAK,EAAEJ,IAAI,CAACE,GAAG,CAAC;MACnD;MACA;MAAA,KACKR,QAAQ,CAAC,QAAQ,CAAC;IAC3B,CAAC,CAAC,OAAOW,GAAG,EAAE;MACVT,OAAO,CAACC,GAAG,CAACQ,GAAG,CAAC;MAChBV,QAAQ,CAAC;QAAEI,IAAI,EAAE,mBAAmB;QAAEO,OAAO,EAAED;MAAI,CAAC,CAAC;IACzD;EACJ,CAAC;AACL;AAEA,OAAO,SAASE,WAAWA,CAAA,EAAG;EAC1B,OAAO,gBAAgBZ,QAAQ,EAAE;IAC7BA,QAAQ,CAAC;MAAEI,IAAI,EAAE;IAAuB,CAAC,CAAC;IAC1C,IAAI;MACA,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMT,KAAK,CAACiB,GAAG,CAAC,GAAGlB,OAAO,mBAAmB,CAAC;MAC/DM,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEG,IAAI,CAAC;MAChCL,QAAQ,CAAC;QAAEI,IAAI,EAAE,kBAAkB;QAAEO,OAAO,EAAEN;MAAK,CAAC,CAAC;IAEzD,CAAC,CAAC,OAAOS,KAAK,EAAE;MACZb,OAAO,CAACC,GAAG,CAACY,KAAK,CAAC;IACtB;EACJ,CAAC;AACL;AAEA,OAAO,SAASC,OAAOA,CAACC,KAAK,EAAE;EAC3B,OAAO,gBAAgBhB,QAAQ,EAAE;IAC7BA,QAAQ,CAAC;MAAEI,IAAI,EAAE;IAAsB,CAAC,CAAC;IACzC,IAAI;MACA,MAAMa,QAAQ,GAAG,MAAMvB,GAAG,CAACmB,GAAG,CAAC,oBAAoB,EAAE;QACjDK,OAAO,EAAE;UACLC,aAAa,EAAE,UAAUH,KAAK;QAClC;MACJ,CAAC,CAAC;MACF,MAAMI,IAAI,GAAGH,QAAQ,CAACZ,IAAI;MAC1BJ,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEkB,IAAI,CAAC;MACzBpB,QAAQ,CAAC;QAAEI,IAAI,EAAE,qBAAqB;QAAEO,OAAO,EAAES;MAAK,CAAC,CAAC;MACxDnB,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEkB,IAAI,CAAC;IAClC,CAAC,CAAC,OAAON,KAAK,EAAE;MACZ,MAAMO,YAAY,GAAGP,KAAK,CAACQ,OAAO;MAClCtB,QAAQ,CAAC;QAAEI,IAAI,EAAE,qBAAqB;QAAEO,OAAO,EAAEU;MAAa,CAAC,CAAC;IACpE;EACJ,CAAC;AACL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}