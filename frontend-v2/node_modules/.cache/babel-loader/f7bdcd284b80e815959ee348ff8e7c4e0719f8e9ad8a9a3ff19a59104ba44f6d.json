{"ast":null,"code":"import axios from \"axios\";\nimport { api, API_URL } from \"../../../component/config/api\";\nexport function registerUser(reqData) {\n  return async function (dispatch) {\n    const {\n      userData,\n      navigate\n    } = reqData;\n    console.log(\"formdata : \", userData);\n    dispatch({\n      type: \"auth/registerRequest\"\n    });\n    try {\n      const {\n        data\n      } = await axios.post(`${API_URL}/auth/signup`, userData);\n      // console.log(\"response data :\", data);\n\n      if (data.jwt) {\n        localStorage.setItem(\"jwt\", data.jwt);\n        dispatch({\n          type: \"auth/registerSuccess\",\n          payload: data.jwt\n        });\n        navigate(\"/\");\n      }\n    } catch (err) {\n      console.log(err);\n      dispatch({\n        type: \"auth/registerFail\",\n        payload: err\n      });\n    }\n  };\n}\nexport function healthCheck() {\n  return async function (dispatch) {\n    dispatch({\n      type: \"auth/registerRequest\"\n    });\n    try {\n      const {\n        data\n      } = await axios.get(`${API_URL}/auth/healthCheck`);\n      console.log(\"get data : \", data);\n      dispatch({\n        type: \"auth/healthCheck\",\n        payload: data\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n}\nexport function getUser(token) {\n  return async function (dispatch) {\n    dispatch({\n      type: \"auth/getUserRequest\"\n    });\n    try {\n      const {\n        data\n      } = await api.get(\"/api/users/profile\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const user = response.data;\n      console.log(\"user\", user);\n      dispatch({\n        type: \"auth/getUserSuccess\",\n        payload: user\n      });\n    } catch (error) {\n      const errorMessage = error.message;\n      dispatch({\n        type: \"auth/getUserFailure\",\n        payload: errorMessage\n      });\n    }\n  };\n}\nexport function loginUser(reqData) {\n  return async function (dispatch) {\n    try {\n      dispatch({\n        type: \"auth/loginRequest\"\n      });\n      const {\n        data\n      } = await axios.post(`${API_URL}/auth/signin`, reqData.data);\n      console.log(\"data : \", data);\n      if (data.jwt) localStorage.setItem(\"jwt\", data.jwt);\n      dispatch({\n        type: \"auth/loginSuccess\",\n        payload: data\n      });\n      reqData.navigate(\"/\");\n    } catch (error) {\n      dispatch({\n        type: \"auth/loginFailure\",\n        payload: error.response && error.response.data.message ? error.response.data.message : error.message\n      });\n    }\n  };\n}\nexport function logout() {\n  return async function (dispatch) {\n    dispatch({\n      type: \"auth/logout\"\n    });\n    localStorage.removeItem(\"jwt\");\n  };\n}","map":{"version":3,"names":["axios","api","API_URL","registerUser","reqData","dispatch","userData","navigate","console","log","type","data","post","jwt","localStorage","setItem","payload","err","healthCheck","get","error","getUser","token","headers","Authorization","user","response","errorMessage","message","loginUser","logout","removeItem"],"sources":["/Users/cyro_dev/Documents/codes/project/craveKart/frontend/src/State/Admin/Authentication/actions.js"],"sourcesContent":["\nimport axios from \"axios\";\nimport { api, API_URL } from \"../../../component/config/api\";\n\nexport function registerUser(reqData) {\n    return async function (dispatch) {\n        const { userData, navigate } = reqData;\n        console.log(\"formdata : \", userData);\n        dispatch({ type: \"auth/registerRequest\" });\n        try {\n            const { data } = await axios.post(`${API_URL}/auth/signup`, userData);\n            // console.log(\"response data :\", data);\n\n            if (data.jwt) {\n                localStorage.setItem(\"jwt\", data.jwt);\n                dispatch({ type: \"auth/registerSuccess\", payload: data.jwt });\n                navigate(\"/\");\n            }\n        } catch (err) {\n            console.log(err);\n            dispatch({ type: \"auth/registerFail\", payload: err });\n        }\n    }\n}\n\nexport function healthCheck() {\n    return async function (dispatch) {\n        dispatch({ type: \"auth/registerRequest\" })\n        try {\n            const { data } = await axios.get(`${API_URL}/auth/healthCheck`);\n            console.log(\"get data : \", data)\n            dispatch({ type: \"auth/healthCheck\", payload: data });\n\n        } catch (error) {\n            console.log(error)\n        }\n    }\n}\n\nexport function getUser(token) {\n    return async function (dispatch) {\n        dispatch({ type: \"auth/getUserRequest\" });\n        try {\n            const { data } = await api.get(\"/api/users/profile\", {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                }\n            });\n            const user = response.data;\n            console.log(\"user\", user);\n            dispatch({ type: \"auth/getUserSuccess\", payload: user })\n\n        } catch (error) {\n            const errorMessage = error.message;\n            dispatch({ type: \"auth/getUserFailure\", payload: errorMessage });\n        }\n    }\n}\n\nexport function loginUser(reqData) {\n    return async function (dispatch) {\n        try {\n            dispatch({ type: \"auth/loginRequest\" });\n            const { data } = await axios.post(`${API_URL}/auth/signin`, reqData.data);\n            console.log(\"data : \", data);\n\n            if (data.jwt) localStorage.setItem(\"jwt\", data.jwt);\n            dispatch({ type: \"auth/loginSuccess\", payload: data });\n            reqData.navigate(\"/\");\n        } catch (error) {\n            dispatch({\n                type: \"auth/loginFailure\", payload:\n                    error.response && error.response.data.message ?\n                        error.response.data.message : error.message\n            });\n        }\n    }\n}\n\nexport function logout() {\n    return async function (dispatch) {\n        dispatch({ type: \"auth/logout\" });\n        localStorage.removeItem(\"jwt\");\n    }\n}\n\n"],"mappings":"AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,GAAG,EAAEC,OAAO,QAAQ,+BAA+B;AAE5D,OAAO,SAASC,YAAYA,CAACC,OAAO,EAAE;EAClC,OAAO,gBAAgBC,QAAQ,EAAE;IAC7B,MAAM;MAAEC,QAAQ;MAAEC;IAAS,CAAC,GAAGH,OAAO;IACtCI,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEH,QAAQ,CAAC;IACpCD,QAAQ,CAAC;MAAEK,IAAI,EAAE;IAAuB,CAAC,CAAC;IAC1C,IAAI;MACA,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMX,KAAK,CAACY,IAAI,CAAC,GAAGV,OAAO,cAAc,EAAEI,QAAQ,CAAC;MACrE;;MAEA,IAAIK,IAAI,CAACE,GAAG,EAAE;QACVC,YAAY,CAACC,OAAO,CAAC,KAAK,EAAEJ,IAAI,CAACE,GAAG,CAAC;QACrCR,QAAQ,CAAC;UAAEK,IAAI,EAAE,sBAAsB;UAAEM,OAAO,EAAEL,IAAI,CAACE;QAAI,CAAC,CAAC;QAC7DN,QAAQ,CAAC,GAAG,CAAC;MACjB;IACJ,CAAC,CAAC,OAAOU,GAAG,EAAE;MACVT,OAAO,CAACC,GAAG,CAACQ,GAAG,CAAC;MAChBZ,QAAQ,CAAC;QAAEK,IAAI,EAAE,mBAAmB;QAAEM,OAAO,EAAEC;MAAI,CAAC,CAAC;IACzD;EACJ,CAAC;AACL;AAEA,OAAO,SAASC,WAAWA,CAAA,EAAG;EAC1B,OAAO,gBAAgBb,QAAQ,EAAE;IAC7BA,QAAQ,CAAC;MAAEK,IAAI,EAAE;IAAuB,CAAC,CAAC;IAC1C,IAAI;MACA,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMX,KAAK,CAACmB,GAAG,CAAC,GAAGjB,OAAO,mBAAmB,CAAC;MAC/DM,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEE,IAAI,CAAC;MAChCN,QAAQ,CAAC;QAAEK,IAAI,EAAE,kBAAkB;QAAEM,OAAO,EAAEL;MAAK,CAAC,CAAC;IAEzD,CAAC,CAAC,OAAOS,KAAK,EAAE;MACZZ,OAAO,CAACC,GAAG,CAACW,KAAK,CAAC;IACtB;EACJ,CAAC;AACL;AAEA,OAAO,SAASC,OAAOA,CAACC,KAAK,EAAE;EAC3B,OAAO,gBAAgBjB,QAAQ,EAAE;IAC7BA,QAAQ,CAAC;MAAEK,IAAI,EAAE;IAAsB,CAAC,CAAC;IACzC,IAAI;MACA,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMV,GAAG,CAACkB,GAAG,CAAC,oBAAoB,EAAE;QACjDI,OAAO,EAAE;UACLC,aAAa,EAAE,UAAUF,KAAK;QAClC;MACJ,CAAC,CAAC;MACF,MAAMG,IAAI,GAAGC,QAAQ,CAACf,IAAI;MAC1BH,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEgB,IAAI,CAAC;MACzBpB,QAAQ,CAAC;QAAEK,IAAI,EAAE,qBAAqB;QAAEM,OAAO,EAAES;MAAK,CAAC,CAAC;IAE5D,CAAC,CAAC,OAAOL,KAAK,EAAE;MACZ,MAAMO,YAAY,GAAGP,KAAK,CAACQ,OAAO;MAClCvB,QAAQ,CAAC;QAAEK,IAAI,EAAE,qBAAqB;QAAEM,OAAO,EAAEW;MAAa,CAAC,CAAC;IACpE;EACJ,CAAC;AACL;AAEA,OAAO,SAASE,SAASA,CAACzB,OAAO,EAAE;EAC/B,OAAO,gBAAgBC,QAAQ,EAAE;IAC7B,IAAI;MACAA,QAAQ,CAAC;QAAEK,IAAI,EAAE;MAAoB,CAAC,CAAC;MACvC,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMX,KAAK,CAACY,IAAI,CAAC,GAAGV,OAAO,cAAc,EAAEE,OAAO,CAACO,IAAI,CAAC;MACzEH,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEE,IAAI,CAAC;MAE5B,IAAIA,IAAI,CAACE,GAAG,EAAEC,YAAY,CAACC,OAAO,CAAC,KAAK,EAAEJ,IAAI,CAACE,GAAG,CAAC;MACnDR,QAAQ,CAAC;QAAEK,IAAI,EAAE,mBAAmB;QAAEM,OAAO,EAAEL;MAAK,CAAC,CAAC;MACtDP,OAAO,CAACG,QAAQ,CAAC,GAAG,CAAC;IACzB,CAAC,CAAC,OAAOa,KAAK,EAAE;MACZf,QAAQ,CAAC;QACLK,IAAI,EAAE,mBAAmB;QAAEM,OAAO,EAC9BI,KAAK,CAACM,QAAQ,IAAIN,KAAK,CAACM,QAAQ,CAACf,IAAI,CAACiB,OAAO,GACzCR,KAAK,CAACM,QAAQ,CAACf,IAAI,CAACiB,OAAO,GAAGR,KAAK,CAACQ;MAChD,CAAC,CAAC;IACN;EACJ,CAAC;AACL;AAEA,OAAO,SAASE,MAAMA,CAAA,EAAG;EACrB,OAAO,gBAAgBzB,QAAQ,EAAE;IAC7BA,QAAQ,CAAC;MAAEK,IAAI,EAAE;IAAc,CAAC,CAAC;IACjCI,YAAY,CAACiB,UAAU,CAAC,KAAK,CAAC;EAClC,CAAC;AACL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}